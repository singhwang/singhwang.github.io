<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>通过 Ingress HTTPS 的方式暴露 Kubernetes Dashboard 服务 | Singh Wang</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一、实验环境版本信息1. 操作系统的版本信息CentOS Linux release 7.6.1810 (Core) 2. 各组件的版本信息kubernetes cluster v1.17.0，推荐使用kubeadm v1.17.0 进行试验etcd v3.4.3kube-apiserver v1.17.0kube-controller-manager v1.17.0kube-scheduler">
<meta name="keywords" content="Docker,Kubernetes,Setup,Dashboard">
<meta property="og:type" content="article">
<meta property="og:title" content="通过 Ingress HTTPS 的方式暴露 Kubernetes Dashboard 服务">
<meta property="og:url" content="http://yoursite.com/2020/02/17/kubernetes_dashboard_001/index.html">
<meta property="og:site_name" content="Singh Wang">
<meta property="og:description" content="一、实验环境版本信息1. 操作系统的版本信息CentOS Linux release 7.6.1810 (Core) 2. 各组件的版本信息kubernetes cluster v1.17.0，推荐使用kubeadm v1.17.0 进行试验etcd v3.4.3kube-apiserver v1.17.0kube-controller-manager v1.17.0kube-scheduler">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2020/02/17/kubernetes_dashboard_001/login_01.png">
<meta property="og:image" content="http://yoursite.com/2020/02/17/kubernetes_dashboard_001/login_02.png">
<meta property="og:image" content="http://yoursite.com/2020/02/17/kubernetes_dashboard_001/login_03.png">
<meta property="og:updated_time" content="2020-03-20T10:15:48.300Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="通过 Ingress HTTPS 的方式暴露 Kubernetes Dashboard 服务">
<meta name="twitter:description" content="一、实验环境版本信息1. 操作系统的版本信息CentOS Linux release 7.6.1810 (Core) 2. 各组件的版本信息kubernetes cluster v1.17.0，推荐使用kubeadm v1.17.0 进行试验etcd v3.4.3kube-apiserver v1.17.0kube-controller-manager v1.17.0kube-scheduler">
<meta name="twitter:image" content="http://yoursite.com/2020/02/17/kubernetes_dashboard_001/login_01.png">
  
    <link rel="alternative" href="/atom.xml" title="Singh Wang" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head></html>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars0.githubusercontent.com/u/17465385?s=400&amp;u=cea56ed1710ec6ebab160c1ce1e068317e05b025&amp;v=4" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Singh Wang</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/categories/容器云技术/">容器云技术</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/singhwang" title="github">github</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Calico/" style="font-size: 11.11px;">Calico</a> <a href="/tags/Ceph/" style="font-size: 12.22px;">Ceph</a> <a href="/tags/Common/" style="font-size: 10px;">Common</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Dashboard/" style="font-size: 11.11px;">Dashboard</a> <a href="/tags/Docker/" style="font-size: 20px;">Docker</a> <a href="/tags/Dragonfly/" style="font-size: 10px;">Dragonfly</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/Fluentd/" style="font-size: 11.11px;">Fluentd</a> <a href="/tags/GlusterFS/" style="font-size: 13.33px;">GlusterFS</a> <a href="/tags/HAProxy/" style="font-size: 11.11px;">HAProxy</a> <a href="/tags/Harbor/" style="font-size: 10px;">Harbor</a> <a href="/tags/Highly-Available/" style="font-size: 12.22px;">Highly Available</a> <a href="/tags/Ingress/" style="font-size: 10px;">Ingress</a> <a href="/tags/Kubeadm/" style="font-size: 12.22px;">Kubeadm</a> <a href="/tags/Kubernetes/" style="font-size: 18.89px;">Kubernetes</a> <a href="/tags/Label/" style="font-size: 10px;">Label</a> <a href="/tags/Logging/" style="font-size: 12.22px;">Logging</a> <a href="/tags/Monitoring/" style="font-size: 14.44px;">Monitoring</a> <a href="/tags/Network/" style="font-size: 14.44px;">Network</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Open-Falcon/" style="font-size: 10px;">Open Falcon</a> <a href="/tags/P2P/" style="font-size: 10px;">P2P</a> <a href="/tags/Prometheus/" style="font-size: 12.22px;">Prometheus</a> <a href="/tags/Setup/" style="font-size: 17.78px;">Setup</a> <a href="/tags/Smartping/" style="font-size: 10px;">Smartping</a> <a href="/tags/Source-Build/" style="font-size: 10px;">Source Build</a> <a href="/tags/Storage/" style="font-size: 15.56px;">Storage</a> <a href="/tags/TimeZone/" style="font-size: 10px;">TimeZone</a> <a href="/tags/Trouble-Shooting/" style="font-size: 16.67px;">Trouble Shooting</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Singh Wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars0.githubusercontent.com/u/17465385?s=400&amp;u=cea56ed1710ec6ebab160c1ce1e068317e05b025&amp;v=4" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Singh Wang</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/容器云技术/">容器云技术</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/singhwang" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-kubernetes_dashboard_001" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/17/kubernetes_dashboard_001/" class="article-date">
  	<time datetime="2020-02-17T07:55:43.013Z" itemprop="datePublished">2020-02-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      通过 Ingress HTTPS 的方式暴露 Kubernetes Dashboard 服务
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dashboard/">Dashboard</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/">Docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kubernetes/">Kubernetes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Setup/">Setup</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/容器云技术/">容器云技术</a>
	</div>


        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、实验环境版本信息"><a href="#一、实验环境版本信息" class="headerlink" title="一、实验环境版本信息"></a>一、实验环境版本信息</h1><h2 id="1-操作系统的版本信息"><a href="#1-操作系统的版本信息" class="headerlink" title="1. 操作系统的版本信息"></a>1. 操作系统的版本信息</h2><p>CentOS Linux release 7.6.1810 (Core)</p>
<h2 id="2-各组件的版本信息"><a href="#2-各组件的版本信息" class="headerlink" title="2. 各组件的版本信息"></a>2. 各组件的版本信息</h2><h3 id="kubernetes-cluster-v1-17-0，推荐使用kubeadm-v1-17-0-进行试验"><a href="#kubernetes-cluster-v1-17-0，推荐使用kubeadm-v1-17-0-进行试验" class="headerlink" title="kubernetes cluster v1.17.0，推荐使用kubeadm v1.17.0 进行试验"></a>kubernetes cluster v1.17.0，推荐使用kubeadm v1.17.0 进行试验</h3><p>etcd v3.4.3<br>kube-apiserver v1.17.0<br>kube-controller-manager v1.17.0<br>kube-scheduler v1.17.0<br>kubectl v1.17.0</p>
<p>docker 18.09.9<br>kubelet v1.17.0<br>calico v3.11.1</p>
<h3 id="kubernetes-dashborad，使用容器化的方式部署"><a href="#kubernetes-dashborad，使用容器化的方式部署" class="headerlink" title="kubernetes dashborad，使用容器化的方式部署"></a>kubernetes dashborad，使用容器化的方式部署</h3><p>kubernetes dashboard v2.0.0-rc5 </p>
<h1 id="二、配置以-http-的方式访问-Kubernetes-Dashboard"><a href="#二、配置以-http-的方式访问-Kubernetes-Dashboard" class="headerlink" title="二、配置以 http 的方式访问 Kubernetes Dashboard"></a>二、配置以 http 的方式访问 Kubernetes Dashboard</h1><ol>
<li><p>决定了 Kubernetes Dashboard 以 http 的形式对外提供服务的关键参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">## 以 http 对外提供服务时，Kubernetes Dashboard 默认是禁用登录模式的</span><br><span class="line"></span><br><span class="line">## 特别注意：该参数启用后，Kubernetes Dashboard 会监听 8443 端口对外提供 https 服务，并且不会监听 9090 端口提供 http 服务</span><br><span class="line">--auto-generate-certificates</span><br><span class="line"></span><br><span class="line">## 设置 http 监听端口，默认值为 9090。当 --auto-generate-certificates 开启时，经测试该参数无效</span><br><span class="line">--insecure-port</span><br><span class="line"></span><br><span class="line">## 设置 http 监听地址，默认值为 127.0.0.1 </span><br><span class="line">--insecure-bind-address</span><br><span class="line"></span><br><span class="line">## 设置以 http 提供服务时，Kubernetes Dashboard 是否启用登录模式，默认为 false</span><br><span class="line">--enable-insecure-login</span><br></pre></td></tr></table></figure>
</li>
<li><p>决定了 Kubernetes Dashboard 能够启动成功的关键参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## 证书相关的secret对象放在哪个namespace下，通常情况下与 Kubernetes Dashboard 的 pod 所在的 namespace 相同，默认值为 kube-system</span><br><span class="line">--namespace</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改相关的 Kubernetes YAML 部署文件，关闭 https 服务，然后开启 http 服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"># git clone https://github.com/kubernetes/dashboard.git</span><br><span class="line"># cd dashboard/</span><br><span class="line"># git checkout -b v2.0.0-rc5.tag v2.0.0-rc5</span><br><span class="line"># git diff aio/deploy/recommended.yaml</span><br><span class="line">diff --git a/aio/deploy/recommended.yaml b/aio/deploy/recommended.yaml</span><br><span class="line">index 742f616..b8c48bd 100644</span><br><span class="line">--- a/aio/deploy/recommended.yaml</span><br><span class="line">+++ b/aio/deploy/recommended.yaml</span><br><span class="line">@@ -38,8 +38,12 @@ metadata:</span><br><span class="line">   namespace: kubernetes-dashboard</span><br><span class="line"> spec:</span><br><span class="line">   ports:</span><br><span class="line">-    - port: 443</span><br><span class="line">+    - name: https</span><br><span class="line">+      port: 443</span><br><span class="line">       targetPort: 8443</span><br><span class="line">+    - name: http</span><br><span class="line">+      port: 80</span><br><span class="line">+      targetPort: 9090</span><br><span class="line">   selector:</span><br><span class="line">     k8s-app: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">@@ -188,13 +192,21 @@ spec:</span><br><span class="line">       containers:</span><br><span class="line">         - name: kubernetes-dashboard</span><br><span class="line">           image: kubernetesui/dashboard:v2.0.0-rc5</span><br><span class="line">-          imagePullPolicy: Always</span><br><span class="line">+          imagePullPolicy: IfNotPresent</span><br><span class="line">           ports:</span><br><span class="line">             - containerPort: 8443</span><br><span class="line">               protocol: TCP</span><br><span class="line">+              name: https</span><br><span class="line">+            - containerPort: 9090</span><br><span class="line">+              protocol: TCP</span><br><span class="line">+              name: http</span><br><span class="line">           args:</span><br><span class="line">-            - --auto-generate-certificates</span><br><span class="line">+            # - --auto-generate-certificates</span><br><span class="line">             - --namespace=kubernetes-dashboard</span><br><span class="line">+            # - --insecure-port=9090</span><br><span class="line">+            # - --port=8443</span><br><span class="line">+            # - --insecure-bind-address=0.0.0.0</span><br><span class="line">+            - --enable-insecure-login</span><br><span class="line">             # Uncomment the following line to manually specify Kubernetes API server Host</span><br><span class="line">             # If not specified, Dashboard will attempt to auto discover the API server and connect</span><br><span class="line">             # to it. Uncomment only if the default does not work.</span><br><span class="line">@@ -207,9 +219,12 @@ spec:</span><br><span class="line">               name: tmp-volume</span><br><span class="line">           livenessProbe:</span><br><span class="line">             httpGet:</span><br><span class="line">-              scheme: HTTPS</span><br><span class="line">+              # scheme: HTTPS</span><br><span class="line">+              # path: /</span><br><span class="line">+              # port: 8443</span><br><span class="line">+              scheme: HTTP</span><br><span class="line">               path: /</span><br><span class="line">-              port: 8443</span><br><span class="line">+              port: 9090</span><br><span class="line">             initialDelaySeconds: 30</span><br><span class="line">             timeoutSeconds: 30</span><br><span class="line">           securityContext:</span><br><span class="line">@@ -272,6 +287,7 @@ spec:</span><br><span class="line">       containers:</span><br><span class="line">         - name: dashboard-metrics-scraper</span><br><span class="line">           image: kubernetesui/metrics-scraper:v1.0.3</span><br><span class="line">+          imagePullPolicy: IfNotPresent</span><br><span class="line">           ports:</span><br><span class="line">             - containerPort: 8000</span><br><span class="line">               protocol: TCP</span><br><span class="line">## 按照上述git对比出来的变化进行修改</span><br><span class="line"></span><br><span class="line"># kubectl create -f aio/deploy/recommended.yaml</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="三、安装-Nginx-Ingress-Controller"><a href="#三、安装-Nginx-Ingress-Controller" class="headerlink" title="三、安装 Nginx Ingress Controller"></a>三、安装 Nginx Ingress Controller</h1><h2 id="1-安装-Helm-3-包管理工具"><a href="#1-安装-Helm-3-包管理工具" class="headerlink" title="1. 安装 Helm 3 包管理工具"></a>1. 安装 Helm 3 包管理工具</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># curl -o helm-v3.1.0-linux-amd64.tar.gz https://get.helm.sh/helm-v3.1.0-linux-amd64.tar.gz</span><br><span class="line"># tar -zxvf helm-v3.1.0-linux-amd64.tar.gz</span><br><span class="line"># cd linux-amd64/</span><br><span class="line"># cp helm /usr/local/bin/</span><br><span class="line"></span><br><span class="line"># helm version</span><br><span class="line">version.BuildInfo&#123;Version:&quot;v3.1.0&quot;, GitCommit:&quot;b29d20baf09943e134c2fa5e1e1cab3bf93315fa&quot;, GitTreeState:&quot;clean&quot;, GoVersion:&quot;go1.13.7&quot;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-使用-Helm-3-安装-Nginx-Ingress-Controller"><a href="#2-使用-Helm-3-安装-Nginx-Ingress-Controller" class="headerlink" title="2. 使用 Helm 3 安装 Nginx Ingress Controller"></a>2. 使用 Helm 3 安装 Nginx Ingress Controller</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">## kubernetes node 上拉取镜像</span><br><span class="line"># docker pull quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.29.0</span><br><span class="line"># docker pull mirrorgooglecontainers/defaultbackend-amd64:1.5</span><br><span class="line"></span><br><span class="line"># git clone https://github.com/helm/charts.git</span><br><span class="line"># cd charts/</span><br><span class="line"># git checkout -b 43edde894f4b141319e46e4311ddfa576a6973f6.tag 43edde894f4b141319e46e4311ddfa576a6973f6</span><br><span class="line"># git diff stable/nginx-ingress/values.yaml</span><br><span class="line">diff --git a/stable/nginx-ingress/values.yaml b/stable/nginx-ingress/values.yaml</span><br><span class="line">index 270a1d3..107d259 100644</span><br><span class="line">--- a/stable/nginx-ingress/values.yaml</span><br><span class="line">+++ b/stable/nginx-ingress/values.yaml</span><br><span class="line">@@ -28,7 +28,7 @@ controller:</span><br><span class="line">   # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),</span><br><span class="line">   # since CNI and hostport don&apos;t mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920</span><br><span class="line">   # is merged</span><br><span class="line">-  hostNetwork: false</span><br><span class="line">+  hostNetwork: true</span><br><span class="line"></span><br><span class="line">   # Optionally customize the pod dnsConfig.</span><br><span class="line">   dnsConfig: &#123;&#125;</span><br><span class="line">@@ -119,7 +119,7 @@ controller:</span><br><span class="line"></span><br><span class="line">   ## DaemonSet or Deployment</span><br><span class="line">   ##</span><br><span class="line">-  kind: Deployment</span><br><span class="line">+  kind: DaemonSet</span><br><span class="line"></span><br><span class="line">   ## Annotations to be added to the controller deployment</span><br><span class="line">   ##</span><br><span class="line">@@ -428,7 +428,7 @@ defaultBackend:</span><br><span class="line"></span><br><span class="line">   name: default-backend</span><br><span class="line">   image:</span><br><span class="line">-    repository: k8s.gcr.io/defaultbackend-amd64</span><br><span class="line">+    repository: mirrorgooglecontainers/defaultbackend-amd64</span><br><span class="line">     tag: &quot;1.5&quot;</span><br><span class="line">     pullPolicy: IfNotPresent</span><br><span class="line">     # nobody user -&gt; uid 65534</span><br><span class="line">## 按照上述git对比出来的变化进行修改</span><br><span class="line"></span><br><span class="line"># helm install nginx-ingress stable/nginx-ingress --set rbac.create=true --namespace kube-system</span><br><span class="line"># helm list -n kube-system</span><br><span class="line">NAME         	NAMESPACE  	REVISION	UPDATED                                	STATUS  	CHART               	APP VERSION</span><br><span class="line">nginx-ingress	kube-system	1       	2020-02-16 12:20:48.748124293 +0800 CST	deployed	nginx-ingress-1.30.3	0.28.0</span><br><span class="line"></span><br><span class="line"># kubectl get pod --all-namespaces -o wide</span><br><span class="line">NAMESPACE              NAME                                             READY   STATUS    RESTARTS   AGE   IP                NODE     NOMINATED NODE   READINESS GATES</span><br><span class="line">。。。</span><br><span class="line">kube-system            nginx-ingress-controller-69878bd7c7-wjjmp        1/1     Running   0          20h   192.168.112.129   node01   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system            nginx-ingress-default-backend-7cbf68bcd8-6csw4   1/1     Running   0          20h   10.211.140.76     node02   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">。。。</span><br></pre></td></tr></table></figure>
<h1 id="四、配置以-Ingress-https-的方式暴露-Kubernetes-Dashboard-服务"><a href="#四、配置以-Ingress-https-的方式暴露-Kubernetes-Dashboard-服务" class="headerlink" title="四、配置以 Ingress https 的方式暴露 Kubernetes Dashboard 服务"></a>四、配置以 Ingress https 的方式暴露 Kubernetes Dashboard 服务</h1><ol>
<li><p>准备 https 证书，以 secret 的形式提交到 Kubernetes Cluster 上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mkdir ingress/</span><br><span class="line">openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj &quot;/CN=dashboard.kubernetes.singhwang.com&quot;</span><br><span class="line"></span><br><span class="line">## 方法一：利用 kubectl 的功能，直接把证书创建到 kubernetes-dashboard-secret 这个 secret 对象中</span><br><span class="line">kubectl create secret tls kubernetes-dashboard-secret --key tls.key --cert tls.crt -n kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">## 方法二：证书内容做 base64 加密后，写入到 kubernetes-dashboard-secret 这个 secret 对象 data 部分的 tls.crt 和 tls.key 中</span><br><span class="line">cat &lt;&lt;EOF &gt; ingress/01-secret.yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  name: kubernetes-dashboard-secret</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">type: kubernetes.io/tls</span><br><span class="line">data:</span><br><span class="line">  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURMVENDQWhXZ0F3SUJBZ0lKQUtSMDREdGNBN2MxTUEwR0NTcUdTSWIzRFFFQkN3VUFNQzB4S3pBcEJnTlYKQkFNTUltUmhjMmhpYjJGeVpDNXJkV0psY201bGRHVnpMbk5wYm1kb2QyRnVaeTVqYjIwd0hoY05NakF3TWpFMgpNVEV3TXpVMFdoY05NakV3TWpFMU1URXdNelUwV2pBdE1Tc3dLUVlEVlFRRERDSmtZWE5vWW05aGNtUXVhM1ZpClpYSnVaWFJsY3k1emFXNW5hSGRoYm1jdVkyOXRNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUIKQ2dLQ0FRRUFwZDZLanM0MnZhOElhWGxGM1hxeUYyM3gvTlJKMGtmM1B2V05hR3RsYzE2UW10Ry9Rcnl6SFVGOAoxOVJDQm5Td01tUVlMUE1xc0crYS9HOGExY0NoQm5mM3pmU09qSmpab0ErVmdqWnYrSE80YmxMaVZ0R25aYkJ5CldaNFZDdlJld0tDakdzQzhmSk5wZG0rYkxLdWgzNUZBeDNlekNnaXNOWXM5VEROWFpWdjArRk15dUNlczBQWUcKYWU1Zi96emtlTUxJT3RPUkc4NllIL2NyQVhUdUxQZko3RXlwRFpMMUpLY1pBUUw4S3RHQmk5aFZvN20xdHJ2NAo2dktudkZnL2pMREszNmI4MTNIekJaa21sUzUwV09XemFSbkxaaGZ6TGRpRkVIbHYwd05jd0dGbVlkb21VaFdnCjJwSEVSY0NrUG5uODF5YXZ2ZktCUElXNVFBZjd0d0lEQVFBQm8xQXdUakFkQmdOVkhRNEVGZ1FVM2tnTnFUMWgKM3ZpQkt0Z0U0VWRKS1J2Wmh3a3dId1lEVlIwakJCZ3dGb0FVM2tnTnFUMWgzdmlCS3RnRTRVZEpLUnZaaHdrdwpEQVlEVlIwVEJBVXdBd0VCL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQXBLNXR0S0Q5amhXakxHRzNkZjRoClQ4RDhNeHV6SXhNWkRSMFJYeTBLWEhsNFU3VFZVbjVLTEJqdDVUUUQ4ZU00ZEk0N2RQaEUzOVRaV3ZGVmFRbjcKckpiUldXbFV5UmdlWmM2NFFWMzZiOVNLSnErSHRManFTQUNBQmVrT2lNT3pOdTgrWGFBUDRpaERtOG5kU2thQwpjd3U3QkltbHMxS1hHU2VOenNpWU8rOTJ5U3MzTHlYMnQ4aHB6eXFvUzlOTkF3Vnd6WVlhWUo3TmtEWWtaOUZZCnhPUmpuUGlhMEQyZmVzNFhNQkdYK2FScEV4K0MvWUpKTWJxSzJJN3MzK21jRitOaTE2KzJmd0pJTHZuR0hWRkcKaHVKa3RSMGQzK1ZBMzBlTDJMY3l6NW4rTERQeFk2Z1MrVTJiYzJJdFAyZjZRUlRJTTVCUmFjUEJDNlM3UXFKaAoyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K</span><br><span class="line">  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ2wzb3FPemphOXJ3aHAKZVVYZGVySVhiZkg4MUVuU1IvYys5WTFvYTJWelhwQ2EwYjlDdkxNZFFYelgxRUlHZExBeVpCZ3M4eXF3YjVyOApieHJWd0tFR2QvZk45STZNbU5tZ0Q1V0NObS80YzdodVV1SlcwYWRsc0hKWm5oVUs5RjdBb0tNYXdMeDhrMmwyCmI1c3NxNkhma1VESGQ3TUtDS3cxaXoxTU0xZGxXL1Q0VXpLNEo2elE5Z1pwN2wvL1BPUjR3c2c2MDVFYnpwZ2YKOXlzQmRPNHM5OG5zVEtrTmt2VWtweGtCQXZ3cTBZR0wyRldqdWJXMnUvanE4cWU4V0QrTXNNcmZwdnpYY2ZNRgptU2FWTG5SWTViTnBHY3RtRi9NdDJJVVFlVy9UQTF6QVlXWmgyaVpTRmFEYWtjUkZ3S1ErZWZ6WEpxKzk4b0U4CmhibEFCL3UzQWdNQkFBRUNnZ0VBYlRNSHNXQ2R0VjlvZ0ZmdzRSRUg4bGpWdVlmaFdlazdJMTN4ek03M3FXNlcKY1BhcG5qd3hCNCszcXpmNGg5dUdySVl0VEZxQ3ZrbWJsWmxuNTFXOExWQUorck9JclpOcm91N2ZsU3hWcHhJNApWNW1GblhiRmFETXo5VUFYeG5CL2VQM0lvN0pENVJmL2xKT0JhM1ZMU3E2TUlVWHl2eVphaVoyenExa1pyb1krCmFYRWxrSjE4YmFWTHNXVnA2amgxVmxwVXhQTEZJQmloRzN2OWdVL09qTTF4YzVjaVJBZzBDd2hSTlV0SVZrU2EKeTdxUzZRNDZyaUIrSnViaDhFOW54VWJhMExoeGo3MUZZdklpemNGMklwTDNoN3ZzUWtWclk3Y3NRRGN5L2psSApjNllSU2ljRVBSdXEwM3Zwa2YxaUFmRDdzcEJ4RmJsLzZidmsxN0ZxNFFLQmdRRFN2dTZ2OU5MY3dPSnpZeDNFCnVqS0UvTVM0Z1pwWGFnK2VqTE1qMlBNR0RnSG9sa1Zua0l5aXhKa1Z1amhJMWVsRDVRc1hiS1VyMld1aUR4NGYKRFJxSGVqUUNUOHV2R1dOamtvOTRqZkZSUzBLa2pPa0NRajZQZVMwcGhneDNGdWVLdTFTT0g1eENyMGdla1dvMApxVUlWZ3BwZlVpdHVDLzd5Q2F6alZ4cTYzd0tCZ1FESmZLcmZ6NlNHNWVGU3BVL0dKV3pxbytEWjBVU25EWFFFCmpSL0gvdnBtNEpQTThXVTNrcUdTdTVlYkI2Nk9ENkxCVEhEUFE0dWNSSUxzNFlVa0RFZWdrbmRHMlllSSt0VkYKN3hoUUdxYXhGZDJxdjZSL2IxWEhNSFdUOVdVdURpUTJTYWVDY3c4NklhaC9ROGxTUmVLNWFSWHJYaHI2ZFZ0TQowaWlOZEUreUtRS0JnUUNTc3Y0TDFleUNabkk3eUI4TXRtQThXb2ZGdDlIc1Q1UVgxZkZOWHRPc3YwdHMwRTMzCnpaTllLbW8xeWE4c1pGdEFPOHdBdmt3cnZlbENvaXRoaWdtUmpPdHZRSVNVbXFPb3lIaStmbkFoR3JhRlBPRm0KQlI3dldIYXJsUGhRWGMxSHNTY20xN0k2YVRGV3RmcXNOYlllcXc4eWsweFFDbUdwc2pwNjlrTlJHUUtCZ0ZWUgpVKzNYdUJ4akpTbGcxTW5idVNZV1pMVDNOekhoc1hubjVFaEV3UFZsTFZDLyt4TXdKUGpFTktzeDhvazNON3pRClNJaUxXb2UrUHc1ZFpJcGlKTVpxbnRWQ2NYRGdmZ1RSL0tLVzFuVHdCR0EwTEV6RjhUV2FZSDlaanhHVWJXTUwKaDBIbXhORGh4YjYyRG42bkZ4MVowUzFNT1BKTFZYRFBJTnJkSUk0WkFvR0FZeDMyWDdlUWhTY2pLNVd1cnF6cQo5THR0ZTZNbDBHamV0MDNLUk5HdStBbVFhVkF4eEw1SGxHaEhpem5TK01ZZnlIMzVzVFZNcnVTNXUyVDVHVEZNCnkrdGtvdVRPRjY1T0YxRFZmNGtWNXM5aWJ0VVk5Z0lqYitFTHAvMzhZVmdJR2tKOGFuYXpOc3NSc3FaM1Z4MDAKbktjT1Y4MlhTRzY5T1YrSUt4YmhhT009Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K</span><br><span class="line"></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建 ingress 资源对象到 Kubernetes Cluster 上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt; ingress/02-ingress.yaml</span><br><span class="line">apiVersion: networking.k8s.io/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">  annotations:</span><br><span class="line">    nginx.ingress.kubernetes.io/ingress.class: nginx</span><br><span class="line">    nginx.ingress.kubernetes.io/secure-backends: &quot;true&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io/ssl-passthrough: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  tls:</span><br><span class="line">  - hosts:</span><br><span class="line">    - dashboard.kubernetes.singhwang.com</span><br><span class="line">    secretName: kubernetes-dashboard-secret</span><br><span class="line">  rules:</span><br><span class="line">    - host: dashboard.kubernetes.singhwang.com</span><br><span class="line">      http:</span><br><span class="line">        paths:</span><br><span class="line">        - path: /</span><br><span class="line">          backend:</span><br><span class="line">            serviceName: kubernetes-dashboard</span><br><span class="line">            servicePort: 80</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">kubectl create -f ingress/</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取 ingress 资源对象中的 HOSTS 和 ADDRESS 在访问端做好 hosts 映射，条件允许的话，也可以配置为网络中的 DNS 记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># kubectl get ingress -n kubernetes-dashboard -o wide</span><br><span class="line">NAME                   HOSTS                                ADDRESS                           PORTS     AGE</span><br><span class="line">kubernetes-dashboard   dashboard.kubernetes.singhwang.com   192.168.112.129,192.168.112.130   80, 443   27s</span><br><span class="line"></span><br><span class="line">## 访问端或者访问端的DNS中配置域名 dashboard.kubernetes.singhwang.com 解析为地址 192.168.112.129 或者 192.168.112.130</span><br></pre></td></tr></table></figure>
</li>
<li><p>接上一步，访问 Kubernetes Dashboard 服务 <a href="https://dashboard.kubernetes.singhwang.com" target="_blank" rel="noopener">https://dashboard.kubernetes.singhwang.com</a><br><img src="/2020/02/17/kubernetes_dashboard_001/login_01.png" alt="login_01"></p>
</li>
</ol>
<h1 id="五、使用说明"><a href="#五、使用说明" class="headerlink" title="五、使用说明"></a>五、使用说明</h1><ol>
<li><p>创建访问用户并授权</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p access/</span><br><span class="line">cat &lt;&lt;EOF &gt; access/01-serviceaccount.yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: admin-user</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF &gt; access/02-clusterrolebinding.yaml</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">metadata:</span><br><span class="line">  name: admin-user</span><br><span class="line">roleRef:</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: cluster-admin</span><br><span class="line">subjects:</span><br><span class="line">- kind: ServiceAccount</span><br><span class="line">  name: admin-user</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">kubectl create -f access/</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取用户的 Token， 并在登录页面上输入， 然后登录 Kubernetes Dashboard</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">## 获取上一步授权的用户 Token，用于登录 Kubernetes Dashboard </span><br><span class="line"># kubectl -n kubernetes-dashboard describe secret $(kubectl -n kubernetes-dashboard get secret | grep admin-user | awk &apos;&#123;print $1&#125;&apos;)</span><br><span class="line">Name:         admin-user-token-5k9vs</span><br><span class="line">Namespace:    kubernetes-dashboard</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  kubernetes.io/service-account.name: admin-user</span><br><span class="line">              kubernetes.io/service-account.uid: 4a2e4bbf-2bb6-4e65-ab49-94913da8d04c</span><br><span class="line"></span><br><span class="line">Type:  kubernetes.io/service-account-token</span><br><span class="line"></span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">ca.crt:     1025 bytes</span><br><span class="line">namespace:  20 bytes</span><br><span class="line">token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IkpWcTFvc0Rza0xYZVVhVnlkRkhUX2VDM1RBR1hUNXpKVkdna3kyRTAyVlEifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLTVrOXZzIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiI0YTJlNGJiZi0yYmI2LTRlNjUtYWI0OS05NDkxM2RhOGQwNGMiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.r1tufqV-G_AF1D-WXhP0i_ggM4rBHuzcNryPIyaIdJOYQEfoQ_G7rPPb2qEux6XrmObFgbNZoXvXUWWn8Q_OulalGNmtAO17xgCvTPjs4A_jvQGv-kiVM_OjBAUL5VGn3leT4KkK60U2q6fGUuHVAu6Fzanq178r8F17uyY_6pAz5xkHx_CZQH4aVpOWOOgcN0u8IyjxSgder_KGP7tZqbrjv29hff6xnEWU_x3qxvxWxWtOOj8egjb_NpJQge5Lh_NQvi78djq8SaBn7otkapg8Ob6FuOP48q9N01ALoJoyT2yPVbml7JLoi1qizd5PAQ40ow18cF_soxTdh7iTRw</span><br><span class="line"></span><br><span class="line">## 登录页面上输入 Token 后，点击对应按钮即可实现登录</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="/2020/02/17/kubernetes_dashboard_001/login_02.png" alt="login_02"><br><img src="/2020/02/17/kubernetes_dashboard_001/login_03.png" alt="login_03"></p>
<h1 id="六、参考资料"><a href="#六、参考资料" class="headerlink" title="六、参考资料"></a>六、参考资料</h1><h2 id="1-Kubernetes-Dashboard-的官方资料"><a href="#1-Kubernetes-Dashboard-的官方资料" class="headerlink" title="1. Kubernetes Dashboard 的官方资料"></a>1. Kubernetes Dashboard 的官方资料</h2><p><a href="https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/src/app/backend/dashboard.go" target="_blank" rel="noopener">https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/src/app/backend/dashboard.go</a><br><a href="https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/accessing-dashboard/1.7.x-and-above.md" target="_blank" rel="noopener">https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/accessing-dashboard/1.7.x-and-above.md</a><br><a href="https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/access-control/creating-sample-user.md" target="_blank" rel="noopener">https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/access-control/creating-sample-user.md</a><br><a href="https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/integrations.md" target="_blank" rel="noopener">https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/integrations.md</a><br><a href="https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/certificate-management.md" target="_blank" rel="noopener">https://github.com/kubernetes/dashboard/blob/v2.0.0-rc5/docs/user/certificate-management.md</a></p>
<h2 id="2-Nginx-Ingress-Controller"><a href="#2-Nginx-Ingress-Controller" class="headerlink" title="2. Nginx Ingress Controller"></a>2. Nginx Ingress Controller</h2><p><a href="https://kubernetes.github.io/ingress-nginx/deploy/#using-helm" target="_blank" rel="noopener">https://kubernetes.github.io/ingress-nginx/deploy/#using-helm</a><br><a href="https://www.jianshu.com/p/2da985a32db8" target="_blank" rel="noopener">https://www.jianshu.com/p/2da985a32db8</a></p>
<h2 id="3-Kubernetes-Metric-Server"><a href="#3-Kubernetes-Metric-Server" class="headerlink" title="3. Kubernetes Metric Server"></a>3. Kubernetes Metric Server</h2><p><a href="https://www.cnblogs.com/ding2016/p/10786252.html" target="_blank" rel="noopener">https://www.cnblogs.com/ding2016/p/10786252.html</a><br><a href="https://github.com/singhwang/k8s-prom-hpa" target="_blank" rel="noopener">https://github.com/singhwang/k8s-prom-hpa</a></p>
<h2 id="4-关于-Chrome-无法访问-Kubernetes-Dashboard-的问题解决"><a href="#4-关于-Chrome-无法访问-Kubernetes-Dashboard-的问题解决" class="headerlink" title="4. 关于 Chrome 无法访问 Kubernetes Dashboard 的问题解决"></a>4. 关于 Chrome 无法访问 Kubernetes Dashboard 的问题解决</h2><p><a href="http://team.jiunile.com/blog/2018/12/k8s-dashboard-chrome-err.html" target="_blank" rel="noopener">http://team.jiunile.com/blog/2018/12/k8s-dashboard-chrome-err.html</a><br><a href="https://superuser.com/questions/27268/how-do-i-disable-the-warning-chrome-gives-if-a-security-certificate-is-not-trust" target="_blank" rel="noopener">https://superuser.com/questions/27268/how-do-i-disable-the-warning-chrome-gives-if-a-security-certificate-is-not-trust</a><br><a href="https://www.jianshu.com/p/a8cc2c04ee7c" target="_blank" rel="noopener">https://www.jianshu.com/p/a8cc2c04ee7c</a><br><a href="https://blog.gxxsite.com/wei-mac-osxde-cheng-xu-tian-jia-yong-jiu-qi-dong-can-shu/" target="_blank" rel="noopener">https://blog.gxxsite.com/wei-mac-osxde-cheng-xu-tian-jia-yong-jiu-qi-dong-can-shu/</a></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/04/kubernetes_harbor_000/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          Kubernetes Harbor 的安装、配置和使用
        
      </div>
    </a>
  
  
    <a href="/2020/02/17/kubernetes_dashboard_000/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Kubernetes Dashboard 的安装、配置和使用</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2020 Singh Wang
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>